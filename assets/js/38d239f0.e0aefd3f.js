(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{81:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return p}));var a=n(3),r=n(7),c=(n(0),n(111)),i={title:"Mise en place de l'environnement",slug:"/setup"},s={unversionedId:"StackTech/Setup",id:"StackTech/Setup",isDocsHomePage:!1,title:"Mise en place de l'environnement",description:"Pr\xeat a mettre en place l'environnement Create React App (Appeler CRA dans la suite) TypeScript (Appeler Ts dans la suite) + Serveur TypeScript ?",source:"@site/docs/StackTech/Setup.md",slug:"/setup",permalink:"/UnlabeledProject/docs/setup",editUrl:"https://github.com/batleforc/UnlabeledProject/edit/doc/docs/StackTech/Setup.md",version:"current",sidebar:"docs",previous:{title:"Electron",permalink:"/UnlabeledProject/docs/electron"},next:{title:"Pipeline",permalink:"/UnlabeledProject/docs/pipeline"}},l=[{value:"1. Mise en place du client",id:"1-mise-en-place-du-client",children:[]},{value:"2. Mise en place serveur (Koa + Socket.io)",id:"2-mise-en-place-serveur-koa--socketio",children:[]},{value:"3. Mise en place de Craco et TailwindCSS",id:"3-mise-en-place-de-craco-et-tailwindcss",children:[]}],o={toc:l};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},o,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"Pr\xeat a mettre en place l'environnement Create React App (Appeler CRA dans la suite) TypeScript (Appeler Ts dans la suite) + Serveur TypeScript ?"),Object(c.b)("div",{className:"admonition admonition-info alert alert--info"},Object(c.b)("div",{parentName:"div",className:"admonition-heading"},Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",{parentName:"h5",className:"admonition-icon"},Object(c.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(c.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),Object(c.b)("div",{parentName:"div",className:"admonition-content"},Object(c.b)("p",{parentName:"div"},"  Vous souhaitez retrouver la stack que je vous fait installer ici ? ",Object(c.b)("a",{parentName:"p",href:"/docs/stacktechnique"},"elle est disponible dans la page StackTech")))),Object(c.b)("h3",{id:"1-mise-en-place-du-client"},"1. Mise en place du client"),Object(c.b)("h4",{id:"11-mise-en-place-de-cra"},"1.1. Mise en place de CRA"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-shell"},"  yarn create react-app ${Le nom de votre projet} --template typescript\n")),Object(c.b)("p",null,"Cette commande vous permettras d'initialiser votre projet Create-React-App."),Object(c.b)("h4",{id:"12-mise-en-place-des-packages"},"1.2. Mise en place des Packages"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-shell"},"  yarn add @reduxjs/toolkit axios react-redux redux react-router-dom\n  yarn add @types/redux @types/react-redux @types/react-router-dom -d\n")),Object(c.b)("p",null,"Ici vous avez ajouter les package n\xe9cessaire a la cr\xe9ation de l'application:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"redux : Vous permet de g\xe9rer l'\xe9tat global de l'application."),Object(c.b)("li",{parentName:"ul"},"axios : Vous permet de faire des requ\xeate web."),Object(c.b)("li",{parentName:"ul"},"react-router-dom : Permet de g\xe9rer un syst\xe8me de chemin.")),Object(c.b)("p",null,"D'autre package sont utiliser :"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"react-grid-layout : Permet la gestion de tableau dynamique (Utiliser dans l'interface de la soundboard)"),Object(c.b)("li",{parentName:"ul"},"socket.io-client : Permet d'\xe9couter et lancer des event en temps r\xe9el."),Object(c.b)("li",{parentName:"ul"},"D'autre package dont l'installation est plus compliquer sont expliquer plus bas")),Object(c.b)("h3",{id:"2-mise-en-place-serveur-koa--socketio"},"2. Mise en place serveur (Koa + Socket.io)"),Object(c.b)("h4",{id:"21-package"},"2.1. Package"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-shell"},"  yarn add @koa/cors @koa/router koa koa-body koa-mount koa-static socket.io typescript nodemon concurrently cross-env dotenv-flow\n  yarn add @types/koa @types/koa-bodyparser @types/koa-cors @types/koa-json @types/koa-router @types/koa-static @types/node @types/socket.io -d\n")),Object(c.b)("p",null,"Les package n\xe9cessaire aux d\xe9veloppement sont ajouter ainsi que leur type."),Object(c.b)("h4",{id:"22-configuration"},"2.2 Configuration"),Object(c.b)("p",null,"Afin de cr\xe9er une configuration compl\xe9te il est n\xe9cessaire de cr\xe9er quelque fichier et dossier."),Object(c.b)("p",null,"Commencer par cr\xe9er a la racine un dossier Server puis place a la configuration Ts."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json",metastring:'title="/serveur.tsconfig.json"',title:'"/serveur.tsconfig.json"'},'  {\n  "compilerOptions": {\n    "module": "commonjs",\n    "esModuleInterop": true,\n    "outDir": "BuildServer", // Fichier de destination du code compiler\n    "target": "es6", // La version de JavaScript viser\n    "strict": true, // Activation de toute les verification strict lier aux Ts\n    "allowJs":true,\n    "skipLibCheck":true // Permet de r\xe9soudre les cas ou deux Lib ont le m\xeame type\n  },\n  "include": [\n    "Server/**/*" // Le dossier contenant le code source du serveur\n  ]\n}\n')),Object(c.b)("p",null,"Ce fichier est la configuration typescript appliquer a votre serveur."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n  ...Votre Package.json\n  "scripts":{\n    "S:Build":"tsc -w --projet ./serveur.tsconfig.json",\n    "S:ProdBuild":"cross-env NODE_ENV=production tsc --project ./serveur.tsconfig.json",\n    "S:Watch": "nodemon -q -w BuildServer BuildServer/index.js",\n    "S:DevWatch": "cross-env NODE_ENV=development concurrently --names \\"S:Build,S:Watch\\" -c \\"grey.bold,blue.bold\\" \\"yarn:S:Build\\" \\"yarn:S:Watch\\" --node-env=development",\n  }\n}\n')),Object(c.b)("p",null,"=> S:Build : Int\xe9rpr\xe9tation du code en TypeScript vers JavaScript en temps r\xe9el (Le code interpr\xe9ter a nouveaux a chaque sauvegarde)."),Object(c.b)("p",null,"=> S:ProdBuild : Interpr\xe9tation du code pour la production."),Object(c.b)("p",null,"=> S:Watch : Ex\xe9cution du code du dossier BuildServer."),Object(c.b)("p",null,"=> S:DevWatch : Ex\xe9cution en parall\xe8le du build server ainsi que de l'ex\xe9cuteur serveur."),Object(c.b)("h3",{id:"3-mise-en-place-de-craco-et-tailwindcss"},"3. Mise en place de Craco et TailwindCSS"),Object(c.b)("p",null,"Create React App Configuration Override (Craco) est un package qui permet de modifi\xe9 le package react-script."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-shell"},"  yarn add @craco/craco\n")),Object(c.b)("p",null,"Puis cr\xe9er un fichier correspondant a la configuration de craco:"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-js",metastring:'title="/craco.config.js"',title:'"/craco.config.js"'},"module.exports = {\n  style: {\n    postcss: {\n      plugins: [\n        require('tailwindcss'),\n        require('autoprefixer'),\n      ],\n    },\n  },\n}\n")),Object(c.b)("p",null,'Pour appliquer la configuration de craco penser a modifier votre package.json et remplacer les "react-scripts" par craco.'),Object(c.b)("p",null,"La prochaine \xe9tape consiste a g\xe9n\xe9rer puis modifier la configuration de Tailwind, Tailwind est un framework Css complet (et non pas une biblioth\xe8que de composant)."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-shell"},"  npx tailwindcss init\n")),Object(c.b)("p",null,"Cette commande vous permettra d'installer tailwindcss, il ne vous reste plus qu'a modifier la configuration pour lui indiquer ou ce situe le code source et ajouter les mot clef pour int\xe9grer le css dans un de vos fichier .css :"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-js",metastring:'title="/tailwind.config.js"',title:'"/tailwind.config.js"'},"module.exports ={\n  purge: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'],\n}\n")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-css",metastring:'title="Votre fichier en .css"',title:'"Votre',fichier:!0,en:!0,'.css"':!0},"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n... Vos style css\n")))}p.isMDXComponent=!0}}]);